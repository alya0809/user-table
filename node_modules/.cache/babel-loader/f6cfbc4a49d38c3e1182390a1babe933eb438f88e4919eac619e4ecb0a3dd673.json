{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cucumber8\\\\Desktop\\\\test\\\\user-table\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport UserTable from './components/UserTable';\nimport SearchBar from './components/SearchBar';\nimport UserModal from './components/UserModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [originalUsers, setOriginalUsers] = useState([]); // State to store original users\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: null\n  });\n  useEffect(() => {\n    fetch('https://dummyjson.com/users').then(response => response.json()).then(data => {\n      if (data && data.users) {\n        setUsers(data.users);\n        setOriginalUsers(data.users); // Store the original list\n      } else {\n        setUsers([]);\n        setOriginalUsers([]); // Ensure originalUsers is also empty\n      }\n    }).catch(error => setError(error.message));\n  }, []);\n  const handleSearch = query => {\n    const key = getKeyForSearch(query);\n    fetch(`https://dummyjson.com/users/filter?key=${key}&value=${query}`).then(response => response.json()).then(data => {\n      if (data && data.users) {\n        setUsers(data.users);\n      } else {\n        setUsers([]);\n      }\n    }).catch(error => setError(error.message));\n  };\n  const getKeyForSearch = query => {\n    if (!isNaN(query)) {\n      return 'age'; // If the query is a number, search by age\n    } else if (query.toLowerCase() === 'male' || query.toLowerCase() === 'female') {\n      return 'gender'; // If the query is male or female, search by gender\n    } else if (/^\\d+$/.test(query)) {\n      return 'phone'; // If the query is digits only, search by phone\n    } else if (/^[a-zA-Z\\s]+$/.test(query)) {\n      return 'address.city'; // If the query contains only letters and spaces, search by city\n    } else if (/^[a-zA-Z0-9\\s,]+$/.test(query)) {\n      return 'address.address'; // If the query contains letters, digits, spaces, or commas, search by address\n    } else {\n      return 'firstName'; // Default to search by firstName for simplicity\n    }\n  };\n  const handleClearSearch = () => {\n    setUsers(originalUsers); // Restore the original list of users\n  };\n  const handleSort = key => {\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    } else if (sortConfig.key === key && sortConfig.direction === 'descending') {\n      direction = null;\n      key = null;\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const sortedUsers = React.useMemo(() => {\n    let sortableUsers = [...users];\n    if (sortConfig.key !== null) {\n      sortableUsers.sort((a, b) => {\n        const aValue = sortConfig.key === 'fullName' ? `${a.firstName} ${a.lastName}` : sortConfig.key === 'address' ? `${a.address.city}, ${a.address.address}` : a[sortConfig.key];\n        const bValue = sortConfig.key === 'fullName' ? `${b.firstName} ${b.lastName}` : sortConfig.key === 'address' ? `${b.address.city}, ${b.address.address}` : b[sortConfig.key];\n        if (aValue < bValue) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (aValue > bValue) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableUsers;\n  }, [users, sortConfig]);\n  const handleRowClick = user => {\n    setSelectedUser(user);\n  };\n  const closeModal = () => {\n    setSelectedUser(null);\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: handleSearch,\n      onClearSearch: handleClearSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UserTable, {\n      users: sortedUsers,\n      onRowClick: handleRowClick,\n      onSort: handleSort,\n      sortConfig: sortConfig\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), selectedUser && /*#__PURE__*/_jsxDEV(UserModal, {\n      user: selectedUser,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"1b9CyGO7t96nOHeHlbZgm7Ifyq4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","UserTable","SearchBar","UserModal","jsxDEV","_jsxDEV","App","_s","users","setUsers","originalUsers","setOriginalUsers","selectedUser","setSelectedUser","error","setError","sortConfig","setSortConfig","key","direction","fetch","then","response","json","data","catch","message","handleSearch","query","getKeyForSearch","isNaN","toLowerCase","test","handleClearSearch","handleSort","sortedUsers","useMemo","sortableUsers","sort","a","b","aValue","firstName","lastName","address","city","bValue","handleRowClick","user","closeModal","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","maxWidth","margin","onSearch","onClearSearch","onRowClick","onSort","onClose","_c","$RefreshReg$"],"sources":["C:/Users/cucumber8/Desktop/test/user-table/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport UserTable from './components/UserTable';\nimport SearchBar from './components/SearchBar';\nimport UserModal from './components/UserModal';\n\nconst App = () => {\n  const [users, setUsers] = useState([]);\n  const [originalUsers, setOriginalUsers] = useState([]); // State to store original users\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: null });\n\n  useEffect(() => {\n    fetch('https://dummyjson.com/users')\n      .then(response => response.json())\n      .then(data => {\n        if (data && data.users) {\n          setUsers(data.users);\n          setOriginalUsers(data.users); // Store the original list\n        } else {\n          setUsers([]);\n          setOriginalUsers([]); // Ensure originalUsers is also empty\n        }\n      })\n      .catch(error => setError(error.message));\n  }, []);\n\n  const handleSearch = query => {\n    const key = getKeyForSearch(query);\n    fetch(`https://dummyjson.com/users/filter?key=${key}&value=${query}`)\n      .then(response => response.json())\n      .then(data => {\n        if (data && data.users) {\n          setUsers(data.users);\n        } else {\n          setUsers([]);\n        }\n      })\n      .catch(error => setError(error.message));\n  };\n\n  const getKeyForSearch = query => {\n    if (!isNaN(query)) {\n      return 'age'; // If the query is a number, search by age\n    } else if (query.toLowerCase() === 'male' || query.toLowerCase() === 'female') {\n      return 'gender'; // If the query is male or female, search by gender\n    } else if (/^\\d+$/.test(query)) {\n      return 'phone'; // If the query is digits only, search by phone\n    } else if (/^[a-zA-Z\\s]+$/.test(query)) {\n      return 'address.city'; // If the query contains only letters and spaces, search by city\n    } else if (/^[a-zA-Z0-9\\s,]+$/.test(query)) {\n      return 'address.address'; // If the query contains letters, digits, spaces, or commas, search by address\n    } else {\n      return 'firstName'; // Default to search by firstName for simplicity\n    }\n  };\n\n  const handleClearSearch = () => {\n    setUsers(originalUsers); // Restore the original list of users\n  };\n\n  const handleSort = key => {\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    } else if (sortConfig.key === key && sortConfig.direction === 'descending') {\n      direction = null;\n      key = null;\n    }\n    setSortConfig({ key, direction });\n  };\n\n  const sortedUsers = React.useMemo(() => {\n    let sortableUsers = [...users];\n    if (sortConfig.key !== null) {\n      sortableUsers.sort((a, b) => {\n        const aValue = sortConfig.key === 'fullName' ? `${a.firstName} ${a.lastName}` : sortConfig.key === 'address' ? `${a.address.city}, ${a.address.address}` : a[sortConfig.key];\n        const bValue = sortConfig.key === 'fullName' ? `${b.firstName} ${b.lastName}` : sortConfig.key === 'address' ? `${b.address.city}, ${b.address.address}` : b[sortConfig.key];\n        \n        if (aValue < bValue) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (aValue > bValue) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableUsers;\n  }, [users, sortConfig]);\n\n  const handleRowClick = user => {\n    setSelectedUser(user);\n  };\n\n  const closeModal = () => {\n    setSelectedUser(null);\n  };\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div style={{ width: '100%', maxWidth: '1200px', margin: '0 auto' }}>\n      <SearchBar onSearch={handleSearch} onClearSearch={handleClearSearch} />\n      <UserTable users={sortedUsers} onRowClick={handleRowClick} onSort={handleSort} sortConfig={sortConfig} />\n      {selectedUser && <UserModal user={selectedUser} onClose={closeModal} />}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}